user  www-data;

error_log /var/log/nginx/error.log warn;
pid       /run/nginx.pid;

worker_processes auto;

events {
    worker_connections  1024;
    multi_accept off;
}

http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    server_names_hash_bucket_size 64;
    ssl_session_cache  shared:SSL:10m;
    ssl_session_timeout 10m;
    client_max_body_size 64m;

    log_format custom '$time_iso8601 $remote_addr:$remote_port $request_method $request_uri $server_protocol $status $bytes_sent $request_time "$http_referer" "$http_user_agent"';

    access_log /var/log/nginx/access.log custom buffer=16k flush=1m;

    sendfile    on;
    tcp_nopush  on;
    tcp_nodelay on;

    keepalive_timeout  65;
    keepalive_requests 100;

    server_tokens on;

    # gzip on;

    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-enabled/*;
}
