{
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "IdentityServer4": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "File",
        "Args": {
          "Path": "{{ crpg_api_log_file }}",
          "Formatter": "Serilog.Formatting.Compact.RenderedCompactJsonFormatter, Serilog.Formatting.Compact",
          "Buffered": true
        }
      }
    ]
  },
  "IdentityServer": {
    "Authority": "https://api.{{ crpg_domain_name }}",
    "Clients": [
      {
        "ClientId": "crpg_web_ui",
        "ClientName": "cRPG Web UI",
        "ClientSecrets": [{ "Value": "" }],
        "RequireClientSecret": false,
        "AllowedGrantTypes": ["authorization_code"],
        "AllowedScopes": ["openid", "user_api"],
        "AllowedCorsOrigins": ["https://{{ crpg_domain_name }}"],
        "RedirectUris": ["https://{{ crpg_domain_name }}", "https://{{ crpg_domain_name }}/silent-renew.html"],
        "PostLogoutRedirectUris": ["https://{{ crpg_domain_name }}"],
        "AccessTokenType": "Jwt",
        "RequireConsent": false,
        "AccessTokenLifetime": 3600,
        "IdentityTokenLifetime": 300,
        "RequirePkce": true,
        "AllowAccessTokensViaBrowser": true,
        "AllowOfflineAccess": true
      },
      {
        "ClientId": "crpg_game_server",
        "ClientName": "cRPG Game Server",
        "ClientSecrets": [{ "Value": "rA1Rpt3Nf9mwBQNsWP2Zzl+DrFkhnHVki8uwN1pycCU=" }],
        "AllowedGrantTypes": ["client_credentials"],
        "AllowedScopes": ["openid", "game_api"],
        "AccessTokenLifetime": 31536000
      }
    ],
    "Providers": {
      "Steam": { "ApplicationKey": "{{ steam_api_key }}" }
    }
  },
  "AllowedOrigins": "https://{{ crpg_domain_name }}",
  "Urls": "http://localhost:{{ crpg_api_port }}",
  "ConnectionStrings": {
    "Crpg": "Host=localhost;Database={{ crpg_db }};Username={{ crpg_db_user }};Password={{ crpg_db_user_password }};Application Name={{ crpg_api_service_name }}"
  }
}
